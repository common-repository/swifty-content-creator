!function(a){var b=[];window.swiftyCheckImageSizesToBeDetermined=function(d,e){"AMH"!==scc_data.ss2_hosting_name&&(e?(b=e,c()):setTimeout(function(){a.post(scc_data.ajax_url,{action:"swcreator_get_determine_image_sizes",ajax_nonce:scc_data.ajax_nonce,id:d},null,"json").then(function(a){a&&a.sizes&&(b=a.sizes,c())},"json")}))};var c=function(){if(b.length>0){var c=b.shift(),e=c.url;e+=(e.split("?")[1]?"&":"?")+"swifty_hiddenview=1",(a("#swc_imsize_iframe").length<=0||a("#swc_imsize_iframe").contents().get(0).location.href!==e)&&(a("#swc_imsize_iframe_wrapper").remove(),a('<div id="swc_imsize_iframe_wrapper" style="width: auto; height: 0; overflow: hidden;"><iframe id="swc_imsize_iframe" src="'+e+'" style="width: 1000px; height: 1000px; visibility: hidden; overflow: hidden;"></iframe></div>').appendTo("body")),d(c)}else a("#swc_imsize_iframe_wrapper").remove()},d=function(b){var e=document.getElementById("swc_imsize_iframe"),f=e.contentDocument||e.contentWindow.document,g=f.getElementsByTagName("body");if(g.length>0&&"function"==typeof e.contentWindow.swifty_is_page_loaded&&e.contentWindow.swifty_is_page_loaded()){g[0].style.overflow="hidden";var h=parseInt(a("#swc_imsize_iframe").css("width"),10);a("#swc_imsize_iframe").css("width",b.w_viewport+"px");var i=100;h!==parseInt(b.w_viewport,10)&&(i=500),setTimeout(function(){var d=-3,e=f.getElementById(b.id_asset);if(e)if("divwidth"===b.image_src){var g=a(e).find(".swc_asset_cntnt");g&&g.length>0&&(d=g[0].offsetWidth,console&&console.log,d>0||(d=-2))}else{var h=e.getElementsByTagName("img");h&&h.length>0&&a.each(h,function(a,c){var e=c.src;e||(e=c.getAttribute("src2")),b.image_src===e&&(d=c.offsetWidth,console&&console.log,d>0||(d=-2))})}a.post(scc_data.ajax_url,{action:"swcreator_determine_image_set_size",ajax_nonce:scc_data.ajax_nonce,id:b.id_post,id_asset:b.id_asset,image_src:b.image_src,w_viewport:b.w_viewport,w_asset:d}),c()},i)}else setTimeout(function(){d(b)},200)};window.swiftyStartDetermineImageSizes=function(b,c,d){"AMH"!==scc_data.ss2_hosting_name&&c?((a("#swc_imdeterm_iframe").length<=0||a("#swc_imdeterm_iframe").contents().get(0).location.href!==c)&&(a("#swc_imdeterm_iframe_wrapper").remove(),a('<div id="swc_imdeterm_iframe_wrapper" style="width: 0; height: 0; overflow: hidden;"><iframe id="swc_imdeterm_iframe" src="'+c+'" style="width: 1000px; height: 1000px; visibility: hidden; overflow: hidden;"></iframe></div>').appendTo("body")),e(b,d)):"function"==typeof d&&d()};var e=function(a,b){var c=document.getElementById("swc_imdeterm_iframe"),d=c.contentDocument||c.contentWindow.document,f=d.getElementsByTagName("body");f.length>0&&"function"==typeof c.contentWindow.swifty_is_page_loaded&&c.contentWindow.swifty_is_page_loaded()?window.swiftyDetermineImageSizes(a,d,b):setTimeout(function(){e(a,b)},200)};window.swiftyDetermineImageSizes=function(b,c,d){if("AMH"!==scc_data.ss2_hosting_name){var e=[],f=a(c).find(".swc_asset_swifty_image,.swc_asset_swifty_bloglist,.swc_asset_swifty_gallery_flex,.swc_asset_swifty_gallery_grid");f.each(function(b,c){var d=a(c).attr("id");if(a(c).closest(".swifty_ssd_item_logo").length<=0){var f=a(c).find("img");f.each(function(a,b){var c=b.src;c||(c=b.getAttribute("src2")),e.push({id:d,src:c})})}}),f=a(c).find(".swc_asset_swifty_slider,.swc_asset_swifty_slideshow"),f.each(function(b,c){var d=a(c).attr("id");e.push({id:d,src:"divwidth"})}),e.length>0?a.post(scc_data.ajax_url,{action:"swcreator_determine_image_sizes",ajax_nonce:scc_data.ajax_nonce,id:b,ids:e},null,"json").then(function(a){window.swiftyCheckImageSizesToBeDetermined(b,a.sizes),"function"==typeof d&&d()}):"function"==typeof d&&d()}else"function"==typeof d&&d()}}(jQuery);